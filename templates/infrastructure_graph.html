<!-- Reference: http://visjs.org/docs/network/ -->
<!-- Based on this example: http://visjs.org/examples/network/other/manipulation.html -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Infrastructure Graph</title>

    <style type="text/css">
      * {
	  margin: 0;
      }
      html, body {
	  color: #d3d3d3;
	  font: 12pt arial;
	  background-color: #000000;
	  height: 100%;
      }
      #controlPanel {
          display: none;
          background-color: #666666;
          height: 100%;
          width: 225px;
          position: absolute;
          left: 0;
          top: 0;
          z-index: 299;
          padding: 35px 15px 25px 15px;
      }
      .closeButton {
          position: absolute;
          top: 0;
          font-size: 25px;
          right: 10px;
      }
      .controlButton {
	  font: bold 18px verdana;
          display: block;
          position: absolute;
      } 
      #openControlPanelSpan {
          position: absolute;
          left: 0px;
          top: 50%;
          font-size: 30px;
          cursor: pointer;
      } 
      #mynetwork {
	  position:relative;
	  height: 100%;
	  //height: auto;
	  margin: 0 auto;
	  background-color: #000000;
      }
      table.legend_table {
	  font-size: 11px;
	  border-width:1px;
	  border-color:#d3d3d3;
	  border-style:solid;
      }
      table.legend_table,td {
	  border-width:1px;
	  border-color:#d3d3d3;
	  border-style:solid;
	  padding: 2px;
      }
      div.table_content {
	  width:80px;
	  text-align:center;
      }
      div.table_description {
	  width:100px;
      }

      #operation {
	  font-size:28px;
      }
      
      #network-popUp {
	  color: black;
	  display:none;
	  position:fixed;
	  top: 50%;
	  left: 50%;
	  transform: translate(-50%, -50%);
	  z-index:299;
	  width:auto;
	  height:auto;
	  background-color: #f9f9f9;
	  border-style:solid;
	  border-width:3px;
	  border-color: #5394ed;
	  padding:10px;
	  text-align: center;
      }

      #node-popup {
	  position: absolute;
	  display: none;
	  color: black;
	  width: auto;
	  height: auto;
	  background-color: #f9f9f9;
	  border-style:solid;
	  border-width:3px;
	  border-color: #5394ed;
	  padding:5px;
	  text-align: center;
	  z-index: 1;
	  text-align: left;
      } 
    </style>

    <script type="text/javascript" src="static/js/vis-4.21.0/dist/vis.js"></script>
    <script type="text/javascript" src="static/graph.js"></script>

    <link href="static/js/vis-4.21.0/dist/vis-network.min.css" rel="stylesheet" type="text/css" />
  </head>

  <body onload="init();">
    <div id = "node-popup" width="auto"></div>

    <div id="network-popUp" width="auto">
      <span id="operation">node</span> <br>
      <table style="margin:auto;">
	<tr>
	  <td>IP</td><td><input id="node-ip" value="" /></td>
	</tr>
	<tr>
	  <td>Hostname</td><td><input id="node-hostname" value="new value" /></td>
	</tr>
	<tr>
	  <td>type</td><td>
	    <select id="node-type" required>
	      <option value="ops_box">Ops Box (physical computer you're typing on)</option>
	      <option value="staging_server">Staging Server (e.g. Team Server)</option>
	      <option value="redirect">Redirector</option>
	      <option value="beacon">Beacon</option>
	      <option value="windows_host">Windows Host</option>
	      <option value="linux_host">Linux Host</option>
	      <option value="other">Other</option>
	    </select>
	  </td>
	</tr>
      </table>
      <input type="button" value="save" id="saveButton" />
      <input type="button" value="cancel" id="cancelButton" />
    </div>

    <div style="height: 100%; width: 100%">
      <div id="mynetwork" onclick="closeControlPanel()"></div>

      <span id="openControlPanelSpan" onclick="openControlPanel()">&#9776;</span>

      <div class="controlPanelClass" id="controlPanel">
	<!-- Based on code from https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications -->

	<!-- TODO: Only accept text files -->
	<input type="file" id="fileSelector" style="display:none" onchange="uploadNmapFiles(this.files)" />

	<a hfef="javascript:void(0)" class="closeButton" onclick="closeControlPanel()">&times;</a>
	<a hfef="javascript:void(0)" class="controlButton" id="nmapFileSelectOpen" onclick="openNmapFileSelector()">Upload NMAP data</a>
      </div>
    </div>
  </body>
</html>



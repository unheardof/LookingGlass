<!-- Reference: http://visjs.org/docs/network/ -->
<!-- Based on this example: http://visjs.org/examples/network/other/manipulation.html -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="csrf-token" content="{{ csrf_token() }}">
    
    <title>Infrastructure Graph</title>

    <script type="text/javascript" src="static/js/vis-4.21.0/dist/vis.js"></script>
    <script type="text/javascript" src="static/graph.js"></script>

    <link href="static/js/vis-4.21.0/dist/vis-network.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/graph.css') }}">
  </head>

  <body onload="init();">
    <div id = "node-popup" width="auto"></div>

    <div id="network-popUp" width="auto">
      <span id="operation">node</span> <br>
      <table style="margin:auto;">
	<tr>
	  <td>IP</td><td><input id="node-ip" value="" /></td>
	</tr>
	<tr>
	  <td>Hostname</td><td><input id="node-hostname" value="new value" /></td>
	</tr>
	<tr>
	  <td>type</td><td>
	    <select id="node-type" required>
	      <option value="ops_box">Ops Box (physical computer you're typing on)</option>
	      <option value="staging_server">Staging Server (e.g. Team Server)</option>
	      <option value="redirect">Redirector</option>
	      <option value="beacon">Beacon</option>
	      <option value="windows_host">Windows Host</option>
	      <option value="linux_host">Linux Host</option>
	      <option value="other">Other</option>
	    </select>
	  </td>
	</tr>
      </table>
      <input type="button" value="save" id="saveButton" />
      <input type="button" value="cancel" id="cancelButton" />
    </div>

    <div style="height: 100%; width: 100%">
      <div id="mynetwork" onclick="closeControlPanel()"></div>

      <span id="openControlPanelSpan" onclick="openControlPanel()">&#9776;</span>

      <div class="controlPanelClass" id="controlPanel">
	<!-- Based on code from https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications -->

	<!-- TODO: Only accept text files -->
	<input type="file" id="fileSelector" style="display:none" onchange="uploadNmapFiles(this.files)" />

	<a hfef="javascript:void(0)" class="closeButton" onclick="closeControlPanel()">&times;</a>
	<a hfef="javascript:void(0)" class="controlButton" id="nmapFileSelectOpen" onclick="openNmapFileSelector()">Upload NMAP data</a>
      </div>
    </div>
  </body>
</html>


